# Orury!
![orury_mockup](https://github.com/Kernel360/E2E1-Orury/assets/44130863/41f0692c-2c24-4709-9f05-aa05827e66be)

<div style="text-align: center;">
ë‹¹ì‹ ë§Œì˜ í´ë¼ì´ë° ì»¤ë®¤ë‹ˆí‹°, ì˜¤ë£¨ë¦¬! <br>
ë‚´ í´ë¼ì´ë° ë¼ì´í”„ë¥¼ ë‹¤ë¥¸ í´ë¼ì´ë¨¸ë“¤ê³¼ ê³µìœ í•˜ê³ , ì¦ê¸°ì„¸ìš”!    
</div>  


## ë©¤ë²„
|                                                            Backend                                                            |                                                      Backend                                                       |                                                            Backend                                                            |                                                            Backend                                                            |
|:-----------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------------------------------------------------------------:|:-----------------------------------------------------------------------------------------------------------------------------:|:-----------------------------------------------------------------------------------------------------------------------------:|
| <img src="https://github.com/Kernel360-4cell/algorithm-study/assets/44130863/eacb9aab-4a9b-4447-b516-9c5efe4484ce" width=300> | <img src="https://github.com/Kernel360/E2E1-Orury/assets/44130863/6fb7dacf-c5b6-4023-840f-96912da62910" width=300> | <img src="https://github.com/Kernel360-4cell/algorithm-study/assets/44130863/1ee6dd72-c060-4dab-996b-e9f9bc7048d2" width=300> | <img src="https://github.com/Kernel360-4cell/algorithm-study/assets/44130863/bef79d6c-5ec0-43c0-999c-906d42ad1e06" width=300> |
|                                               [í˜•ì¤€](https://github.com/kkkapuq)                                                |                                          [ì°¬ìš±](https://github.com/mooncw)                                           |                                             [ì¢…ë¯¼](https://github.com/ShineCorine)                                              |                                                [ë¬´ë£¡](https://github.com/aqrms)                                                 |
|                                                         íŒ€ì›ë“¤ì´ ë³¸<br>**í˜•ì¤€**ì€                                                         |                                                   íŒ€ì›ë“¤ì´ ë³¸<br>**ì°¬ìš±**ì€                                                    |                                                       íŒ€ì›ë“¤ì´ ë³¸<br>**ì¢…ë¯¼**ì€                                                       |                                                       íŒ€ì›ë“¤ì´ ë³¸<br>**ë¬´ë£¡**ì€                                                       |
|                                               ì¤‘ì‹¬ì„ ì¡ì•„ì¤˜ìš”<br>ë¦¬ë”ì‰½ì´ ê°•í•´ìš”<br>ì†”ì„ ìˆ˜ë²”í•œ ë¦¬ë”                                                |                                          ë‹¤ì¬ë‹¤ëŠ¥ í–‰ë™ëŒ€ì¥<br>ë­ë“ ì§€ ê¼¼ê¼¼í•´ìš”<br>íŒ€ì˜ í•´ê²°ì‚¬                                           |                                           ë¶€ë”ªíˆê³  ë³´ëŠ” ì§„ê²©ì˜ ê°œë°œì<br>ê¾¸ì¤€í•˜ê²Œ ì„±ì¥í•´ìš”<br>ì‹¤ë ¥ì´ ì‘¥ì‘¥ìë¼ìš”                                           |                                            ëê¹Œì§€ ê°€ë©´ ë‚´ê°€ì´ê²¨<br>ì–´ë ¤ìš´ ì¼ë„ íŒŒê³ ë“¤ì–´ìš”<br>ì±…ì„ê°ì´ ê°•í•´ìš”                                             |

## ê¸°ìˆ  ìŠ¤íƒ
<img src="https://github.com/Kernel360/E2E1-Orury/assets/44130863/48959e1d-06d5-4b0a-be68-6d83ff143040" width=500, height=1000>

## ì„œë¹„ìŠ¤ íë¦„ë„
![á„‰á…¥á„‡á…µá„‰á…³ á„’á…³á„…á…³á†·á„ƒá…©](https://github.com/Kernel360/E2E1-Orury/assets/44130863/20cd677f-370a-4312-a271-73a25436069d)

## CI/CD
![image](https://github.com/Kernel360/E2E1-Orury/assets/44130863/d928aeb7-02e3-4909-96da-1bf31734ef4f)

## ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜
![system_architecture](https://github.com/Kernel360/E2E1-Orury/assets/44130863/22def7c2-e141-4592-a03d-3858e362dcc1)

## ERD
![ERD](https://github.com/Kernel360/E2E1-Orury/assets/44130863/af21f3c1-4bd2-4703-a765-5a1a3534e3d7)

## í”„ë¡œì íŠ¸ êµ¬ì¡°ë„
> ğŸ“¦orury  
â”£ ğŸ“‚batch  
â”ƒ â”£ ğŸ“‚job  
â”ƒ â”ƒ â”— ğŸ“œDeleteExpiredTokenJobConfig.java  
â”ƒ â”— ğŸ“‚scheduler  
â”ƒ â”ƒ â”— ğŸ“œBatchScheduler.java  
â”£ ğŸ“‚config  
â”ƒ â”£ ğŸ“‚jwt  
â”ƒ â”ƒ â”£ ğŸ“œCustomAuthenticationFailureHandler.java  
â”ƒ â”ƒ â”£ ğŸ“œJwtAccessDeniedHandler.java  
â”ƒ â”ƒ â”£ ğŸ“œJwtAuthenticationEntryPoint.java  
â”ƒ â”ƒ â”£ ğŸ“œJwtFilter.java  
â”ƒ â”ƒ â”£ ğŸ“œJwtSecurityConfig.java  
â”ƒ â”ƒ â”— ğŸ“œTokenProvider.java  
â”ƒ â”£ ğŸ“œCorsConfig.java  
â”ƒ â”£ ğŸ“œJasyptConfig.java  
â”ƒ â”£ ğŸ“œSecurityConfig.java  
â”ƒ â”— ğŸ“œSwaggerConfig.java  
â”£ ğŸ“‚domain  
â”ƒ â”£ ğŸ“‚admin  
â”ƒ â”ƒ â”£ ğŸ“‚controller  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAdminBoardController.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAdminCommentController.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAdminPostController.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œAdminUserController.java  
â”ƒ â”ƒ â”— ğŸ“‚service  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAdminCommentService.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAdminPostService.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œAdminUserService.java  
â”ƒ â”£ ğŸ“‚board  
â”ƒ â”ƒ â”£ ğŸ“‚controller  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œBoardController.java  
â”ƒ â”ƒ â”£ ğŸ“‚db  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œBoardEntity.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œBoardRepository.java  
â”ƒ â”ƒ â”£ ğŸ“‚model  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œBoardDto.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œBoardRequest.java  
â”ƒ â”ƒ â”— ğŸ“‚service  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œBoardConverter.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œBoardService.java  
â”ƒ â”£ ğŸ“‚comment  
â”ƒ â”ƒ â”£ ğŸ“‚controller  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œCommentController.java  
â”ƒ â”ƒ â”£ ğŸ“‚db  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentEntity.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentLikeEntity.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentLikePK.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentLikeRepository.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œCommentRepository.java  
â”ƒ â”ƒ â”£ ğŸ“‚model  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentDto.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentLikeDto.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentLikeRequest.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œCommentRequest.java  
â”ƒ â”ƒ â”— ğŸ“‚service  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentConverter.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œCommentService.java  
â”ƒ â”£ ğŸ“‚config  
â”ƒ â”£ ğŸ“‚notification  
â”ƒ â”ƒ â”£ ğŸ“‚controller  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œNotifyController.java  
â”ƒ â”ƒ â”£ ğŸ“‚db  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œEmitterRepository.java  
â”ƒ â”ƒ â”— ğŸ“‚service  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œNotifyService.java  
â”ƒ â”£ ğŸ“‚post  
â”ƒ â”ƒ â”£ ğŸ“‚controller  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œPostController.java  
â”ƒ â”ƒ â”£ ğŸ“‚db  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostEntity.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostLikeEntity.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostLikePK.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostLikeRepository.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œPostRepository.java  
â”ƒ â”ƒ â”£ ğŸ“‚model  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostDto.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostLikeDto.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostLikeRequest.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œPostRequest.java  
â”ƒ â”ƒ â”£ ğŸ“‚repository  
â”ƒ â”ƒ â”— ğŸ“‚service  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostConverter.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œPostService.java  
â”ƒ â”— ğŸ“‚user  
â”ƒ â”ƒ â”£ ğŸ“‚controller  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAuthController.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œUserController.java  
â”ƒ â”ƒ â”£ ğŸ“‚db  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAuthorityEntity.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAuthorityRepository.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œRefreshTokenEntity.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œRefreshTokenRepository.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œUserEntity.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œUserRepository.java  
â”ƒ â”ƒ â”£ ğŸ“‚model  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAuthorityDto.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œLoginDto.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œTokenDto.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œUserDto.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œUserResponseDto.java  
â”ƒ â”ƒ â”— ğŸ“‚service  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCustomUserDetailsService.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œUserService.java  
â”£ ğŸ“‚global  
â”ƒ â”£ ğŸ“‚common  
â”ƒ â”ƒ â”£ ğŸ“œApi.java  
â”ƒ â”ƒ â”£ ğŸ“œApiResponse.java  
â”ƒ â”ƒ â”£ ğŸ“œApiStatus.java  
â”ƒ â”ƒ â”£ ğŸ“œBaseEntity.java  
â”ƒ â”ƒ â”£ ğŸ“œListener.java  
â”ƒ â”ƒ â”£ ğŸ“œPagination.java  
â”ƒ â”ƒ â”— ğŸ“œSecurityUtil.java  
â”ƒ â”£ ğŸ“‚config  
â”ƒ â”ƒ â”— ğŸ“œJpaConfig.java  
â”ƒ â”£ ğŸ“‚constants  
â”ƒ â”ƒ â”— ğŸ“œConstant.java  
â”ƒ â”£ ğŸ“‚controller  
â”ƒ â”£ ğŸ“‚error  
â”ƒ â”ƒ â”£ ğŸ“‚code  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œAuthorizationErrorCode.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œBoardErrorCode.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCertificationErrorCode.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œCommentErrorCode.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œErrorCode.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œPostErrorCode.java  
â”ƒ â”ƒ â”ƒ â”£ ğŸ“œServerErrorCode.java  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œUserErrorCode.java  
â”ƒ â”ƒ â”£ ğŸ“‚dto  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œErrorResponse.java  
â”ƒ â”ƒ â”£ ğŸ“‚exception  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œBusinessException.java  
â”ƒ â”ƒ â”— ğŸ“œGlobalExceptionHandler.java  
â”ƒ â”— ğŸ“‚message  
â”ƒ â”ƒ â”£ ğŸ“‚info  
â”ƒ â”ƒ â”ƒ â”— ğŸ“œInfoMessages.java  
â”ƒ â”ƒ â”£ ğŸ“‚success  
â”ƒ â”ƒ â”— ğŸ“‚validation  
â”— ğŸ“œOruryApplication.java

## ì‚¬ìš©ë²•
### 1. apkë¥¼ ë‹¤ìš´ë°›ì•„ì„œ ì‚¬ìš©í•˜ëŠ” ê²½ìš°
ì œê³µí•´ë“œë¦° APK íŒŒì¼ì„ ë‹¤ìš´ë°›ì•„ ì—¬ëŸ¬ë¶„ì˜ íœ´ëŒ€í°ì— ì„¤ì¹˜í•˜ê³  ì‚¬ìš©í•´ì£¼ì„¸ìš”

### 2. IntelliJì—ì„œ í”ŒëŸ¬í„°ë¥¼ ì§ì ‘ ì‹¤í–‰í•´ì•¼ í•˜ëŠ” ê²½ìš°
intellij ì‹¤í–‰ > plugins ì—ì„œ Dartì™€ Flutterë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤.

1. Android SDK ì„¤ì¹˜
2. Flutter SDK ì„¤ì¹˜

requirement

M1 Macbookì˜ ê²½ìš° Rosetta2ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤

Xcodeê°€ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

[https://docs.flutter.dev/get-started/install](https://docs.flutter.dev/get-started/install) ì—ì„œ ìš´ì˜ì²´ì œì— ë§ëŠ” flutter ì„¤ì¹˜ë²•ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤

1. `sudo softwareupdate --install-rosetta --agree-to-license`
2. SDKë¥¼ ì„¤ì¹˜í•©ë‹ˆë‹¤
    1. ì ì ˆí•œ SDKë¥¼ ë‹¤ìš´ë°›ìŠµë‹ˆë‹¤.
        1. [intel mac ë²„ì „](https://storage.googleapis.com/flutter_infra_release/releases/stable/macos/flutter_macos_3.16.0-stable.zip)
        2. [Apple Silicon mac ë²„ì „](https://storage.googleapis.com/flutter_infra_release/releases/stable/macos/flutter_macos_arm64_3.16.0-stable.zip)
    2. ì ë‹¹í•œ ê³³ì— ì••ì¶•ì„ í’€ê³ (ì••ì¶•ì„ í‘¼ ê³³ ì£¼ì†Œê°€ í•„ìš”í•©ë‹ˆë‹¤)

       ì••ì¶•íŒŒì¼ì´ ìˆëŠ” ê³³ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤ : `cd ~/development`
       ì••ì¶•ì„ í’‰ë‹ˆë‹¤: `unzip ~/Downloads/flutter_macos_arm64_3.16.0-stable.zip`

    3. í™˜ê²½ë³€ìˆ˜ì— í”ŒëŸ¬í„° ê²½ë¡œë¥¼ ë“±ë¡í•´ì¤ë‹ˆë‹¤

       `export PATH**=**"$PATH:`pwd`/flutter/bin"`

       ë§Œì— í•˜ë‚˜ ê³„ì† ì‚¬ìš©í•˜ì‹¤ê±°ë©´ .zshrcë‚˜ .bash_profileì— ê²½ë¡œë¥¼ ë“±ë¡í•´ì•¼ í•©ë‹ˆë‹¤


3. í”ŒëŸ¬í„° ë‹¥í„°ë¥¼ ì‹¤í–‰í•´ì„œ ë¶€ì¡±í•œ ë¶€ë¶„ì„ ì„¤ì •í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤

`flutter doctor`

## ë°±ì—”ë“œë¥¼ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ëŠ” ë°©ë²•

ë°±ì—”ë“œ í”„ë¡œì íŠ¸ì˜ ê²½ë¡œëŠ” E2E1-Orury/backend/orury ì…ë‹ˆë‹¤

1. ì¸í…”ë¦¬ì œì´ì—ì„œ í•´ë‹¹ ê²½ë¡œë¥¼ ì—´ì–´ì¤ë‹ˆë‹¤
2. backend/orury/src/main/java/com/kernel360/orury/config/JasyptConfig.java íŒŒì¼ì—ì„œ
   @Configuration ì–´ë…¸í…Œì´ì…˜ì„ ì£¼ì„ì²˜ë¦¬ í•©ë‹ˆë‹¤
3. backend/orury/src/main/resources/application.yml íŒŒì¼ì„ ë‹¤ìŒê³¼ ê°™ì´ ìˆ˜ì •í•©ë‹ˆë‹¤


    ```
    ..
    
        url: ${LOCAL_DB_URL} # configurationì—ì„œ ì„¤ì • í•„ìš”
    #    url: ENC(4t9k8jNC5SIDd1hpsqRJiw5NgwtRAZ9l2cY42PcN3v6GNDC61KXk4X3nYwwUdW4+aC6g41zh14HyfWg+2fPmfuTXHg7aw+vTvL9Oomq1wEKM2r2ZHJbhmakdpmbeMVjVALC/MSk28Tp4a5sBhUFRWdpaFO2qQcpdUHUd9KsuJh0=)
        username: ${LOCAL_DB_USERNAME}
    #    username: ENC(2STroDy2TfWobkrTroFwbRcxLke05156ZFMrqwKmVssNcN4foSX4I6ax8YAgdW3R)
        password: ${LOCAL_DB_USER_PASSWORD}
    #    password: ENC(a8l7l/AYNz2x1HPYyu+urOBwVcBhQkeWgTi6Fvt+lQFq1QyHsL8yyi5+wr7lh26P)
    jwt:
      header: Authorization
      #HS512 ì•Œê³ ë¦¬ì¦˜ì„ ì‚¬ìš©í•  ê²ƒì´ê¸° ë•Œë¬¸ì— 512bit, ì¦‰ 64byte ì´ìƒì˜ secret keyë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
      #echo 'silvernine-tech-spring-boot-jwt-tutorial-secret-silvernine-tech-spring-boot-jwt-tutorial-secret'|base64
      secret: ${LOCAL_JWT_SECRET_KEY}
    #  secret: ENC(XNkGVBeK1sJZhLhri+zz7pJOhHCvfif265mvT8OUIbOGeQcOCtHNnG2s3qjsKNe2u+dLoNVQBzbF1bKUfDxi8Po5tL7jQbZMPA33Dg1QMQFQWV46IyrYnLykYXQQvpin/SNPXW04ECDoRLF3TNwcS22D8uWEwe8L2wtcauyHeO1z+J6lUQArPHy76O2pzC7FHlBjOTw3STd23e3dd1WBQtHAYVmOIvNuPreulzSaHXc=)
      access-validity: 1800
      refresh-validity: 3600
    ```
    
ì‹œìŠ¤í…œ í™˜ê²½ë³€ìˆ˜ë‚˜ IntelliJ Configurationì—ì„œ 
    
ë¡œì»¬ mysql ë°ì´í„°ë² ì´ìŠ¤ì— ë‹¤ìŒê³¼ ê°™ì€ í™˜ê²½ ë³€ìˆ˜ì™€ ê°’ì„ ë“±ë¡í•´ì¤ë‹ˆë‹¤.

`LOCAL_DB_URL`, `LOCAL_DB_USERNAME`, `LOCAL_DB_USER_PASSWORD`, `LOCAL_JWT_SECRET_KEY`

ë˜ëŠ” ì§ì ‘ ë“±ë¡í•´ì¤˜ì•¼ í•©ë‹ˆë‹¤. 

í† í° ë§Œë£Œì‹œê°„ì„ ì¡°ì ˆí•˜ê¸° ìœ„í•´ `access-validity`, `refresh-validity`ì˜ ê°’ì„ ì ì ˆíˆ ì…ë ¥í•´ì¤ë‹ˆë‹¤.(ë‹¨ìœ„ëŠ” ì´ˆ ì…ë‹ˆë‹¤)

Api í™•ì¸ì„ ìœ„í•´ì„œ ìŠ¤ì›¨ê±°ì— ì ‘ì†í•˜ê±°ë‚˜ postman ë“±ì„ ì¨ì„œ í…ŒìŠ¤íŠ¸í•´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤ 
ê¸°ë³¸ í¬íŠ¸ëŠ” 8080 ì´ê³  swaggerì˜ ì£¼ì†ŒëŠ” [ë‹¤ìŒ](http://localhost:8080/swagger-ui/index.html)ê³¼ ê°™ìŠµë‹ˆë‹¤. 
